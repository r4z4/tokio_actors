<!-- <html>
  <head>
    <title>Login</title>
  </head>

  <body>
    {% if let Some(message) = message %}
    <span><strong>{{ message }}</strong></span>
    {% endif %}

    <h1 class="main_header">Login</h1>

    <form method="post">
      <fieldset>
        <legend>User login</legend>
        <p>
          <label for="username">Username</label>
          <input name="username" id="username" value="aaron" />
        </p>
        <p>
          <label for="password">Password</label>
          <input
            name="password"
            id="password"
            type="password"
            value="password"
          />
        </p>
      </fieldset>

      <input type="submit" value="login" />

      {% if let Some(next) = next %}
      <input type="hidden" name="next" value="{{next}}" />
      {% endif %}
    </form>
  </body>
</html> -->


{% extends "base.html" %}

{% block title %}Protected{% endblock %}

{% block head %}
  <style>
  </style>
{% endblock %}

{% block content %}
  {% if let Some(message) = message %}
  <span><strong>{{ message }}</strong></span>
  {% endif %}
    <h1 class="main_header">Login</h1>
    <form class="auth" method="post">
      <fieldset>
        <legend>Register</legend>
        <p>
          <label for="email">Email</label>
          <input type="email" name="email" id="email" />
        </p>
        <p>
          <label for="username">Username</label>
          <input type="text" name="username" id="username" />
        </p>
        <p>
          <label for="password">Password</label>
          <input
            name="password"
            id="password_input"
            type="password"
          />
        </p>
        <div id="password_match"></div>
        <p>
          <label for="confirm_password">Confirm Password</label>
          <input 
              class="field-style field-full align-none" 
              type="password" 
              placeholder="Re-Enter Password" 
              name="confirm_password" 
              _="on keyup
                  if my value is not empty
                      if my value == #password_input.value
                          put '✅ Passwords Match' into #password_match
                      otherwise
                          put '❌ Passwords Do Not Match' into #password_match
                      end
                  otherwise
                      put '' into #password_match
                  end" 
              required>
        </p>
      </fieldset>

      <div class="auth_submit">
        <input type="submit" value="Register" />
      </div>

    </form>
    <div class="form_link_container" style="background-color: #7b777b"><p><a href="/login">Already have an account? Login here.</a></p></div>
  {% call super() %}
{% endblock %}
